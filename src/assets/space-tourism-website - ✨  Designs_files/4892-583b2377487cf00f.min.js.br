"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8af5d796-e5a1-52b0-9b2e-ab0fc7ed9fec")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[4892],{785514:(e,t,a)=>{a.d(t,{Ai:()=>A,DA:()=>I,E_:()=>C,Gp:()=>T,HP:()=>d,IE:()=>k,MZ:()=>s,N1:()=>E,Nk:()=>y,OX:()=>x,SY:()=>m,Si:()=>v,Wv:()=>g,XE:()=>h,ZA:()=>o,Zp:()=>n,cm:()=>R,gG:()=>p,gK:()=>M,hQ:()=>i,kG:()=>w,kL:()=>l,mL:()=>S,mY:()=>r,op:()=>c,pT:()=>_,q4:()=>f,qd:()=>b,qy:()=>N,tL:()=>u,ty:()=>O});let o="feed_post_detail_modal--detailModal--MMYKj",n="feed_post_detail_modal--layout--b28Tm",l="feed_post_detail_modal--container--PkjxH",i="feed_post_detail_modal--contentContainer--HvXHM",s="feed_post_detail_modal--contentContainerFull--Y-lEo feed_post_detail_modal--contentContainer--HvXHM",d="feed_post_detail_modal--rightSideContainer--n9eWy",m="feed_post_detail_modal--sidebarCollapsed--JYqsn feed_post_detail_modal--contentOverlayPill--1jsoj",c="feed_post_detail_modal--infoContainer--r-tGh",r="feed_post_detail_modal--topRow--Rs14r",_="feed_post_detail_modal--postTitle--dZdnT feed_tile--postTitle--DY-Hh",u="feed_post_detail_modal--postDescription--9xUac",p="feed_post_detail_modal--postDescriptionMessage--vHcLD comment_message--commentMessage--kZCzD",h="feed_post_detail_modal--fileInfo--IsxWn",f="feed_post_detail_modal--detailsFileButtonName--kqizR",g="feed_post_detail_modal--detailsFileButtonIcon--wfORW",C="feed_post_detail_modal--bottomRow--ycO1b",E="feed_post_detail_modal--headerContainer--oByFt",b="feed_post_detail_modal--headerTitle--SJpLy",k="feed_post_detail_modal--headerRight--VNHRM",T="feed_post_detail_modal--headerSvg--9mFA0",v="feed_post_detail_modal--headerContextMenu--0idb0",y="feed_post_detail_modal--closeX--NwlcU",w="feed_post_detail_modal--composerContainer--bIZJV",M="feed_post_detail_modal--composerAvatar--4cjv3",I="feed_post_detail_modal--composer--A7iTJ thread_comment_composer--inputSectionWrapper--Bxyab",x="feed_post_detail_modal--editableTypeahead--4ZMRF thread_comment_composer--editableTypeahead--9R6Yd text--fontPos13--xW8hS text--_fontBase--QdLsd",O="feed_post_detail_modal--commentSection--2SXbE",N="feed_post_detail_modal--commentSectionScroll--yFbDD",A="feed_post_detail_modal--existingComments--1ORWZ",S="feed_post_detail_modal--arrowDown--XpvZj",R="feed_post_detail_modal--commentsToast--nTd74"},166178:(e,t,a)=>{a.d(t,{$S:()=>l,D5:()=>s,HL:()=>o,KD:()=>n,Qi:()=>i});let o="feed_reactions_section--reactionPill--qE8nJ reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",n="feed_reactions_section--reactionList---Yu5e",l="feed_reactions_section--addReactionButton--0D-O4",i="feed_reactions_section--addReactionButtonSelected--OU1gq",s="feed_reactions_section--addReactionButtonOnly--9t-4W"},770686:(e,t,a)=>{a.d(t,{J:()=>s,k:()=>d});var o=a(280198),n=a(442313),l=a(719398),i=a(8374);let s=(0,i.nF)((e,t)=>{let{receiptsAPI:a,comment:i}=t;a.markAsUnread(i.uuid).catch(t=>{let a=(0,n.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_unread");try{t=JSON.parse(t),e.dispatch(o.s.error((0,l.J)(t,a)))}catch(t){e.dispatch(o.s.error(a))}})}),d=(0,i.nF)((e,t)=>{let{receiptsAPI:a,thread:i}=t,s=i.comments.map(e=>e.uuid).filter(e=>!!e);a.markAsRead(s).catch(t=>{let a=(0,n.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_read");try{t=JSON.parse(t),e.dispatch(o.s.error((0,l.J)(t,a)))}catch(t){e.dispatch(o.s.error(a))}})})},701601:(e,t,a)=>{a.d(t,{w:()=>l});var o=a(855340),n=a(661780);function l({rolesToDefaultToOther:e}={}){let t=n.iZ()?.profile.job_title,a=(0,o.HB)(t);return e&&e.includes(a)?"other":a}},728023:(e,t,a)=>{a.d(t,{h:()=>s});var o=a(848318),n=a(442313),l=a(464012),i=a(117592);let s=(0,l.Ju)(function(e){return o.createElement(i.Rw,{destructive:!0,confirmationTitle:"Delete comment",confirmText:"Delete",onConfirm:e.onConfirm,popStack:e.popStack},o.createElement("p",null,(0,n.tx)("comments.are_you_sure_you_want_to_delete_this_comment_this_action_cannot_be_undone")))},"CommentConfirmDeleteModal")},36172:(e,t,a)=>{a.d(t,{Q:()=>i,X:()=>n});var o=a(457209);let n="feed_post_detail_modal_opened",l=(0,o.Op)({initial:"await_open_feed_post_detail_modal",states:[{id:"await_open_feed_post_detail_modal",transitions:[(0,o.nr)(n,"complete")]},{id:"complete",terminal:!0}]}),i=(0,o.rn)("open_feed_post_detail_modal",l)},251446:(e,t,a)=>{a.d(t,{O:()=>T,b:()=>v});var o=a(848318),n=a(600627),l=a(442313),i=a(176629),s=a(210089),d=a(849752),m=a(35315),c=a(480771),r=a(991371),_=a(145015),u=a(155651),p=a(68745),h=a(341339),f=a(809086),g=a(821527),C=a(45121);function E(e){let t=o.useRef(null),[a,n]=o.useState({width:0,height:0});o.useLayoutEffect(()=>{if(t.current){let e=t.current.getBoundingClientRect();n({width:e.width,height:e.height})}},[n]);let l=e.width,i=e.backgroundColor,s="light"===e.background,d=(0,h.xT)(e.targetKey)||document.documentElement;if(!d)return null;let m=o.createElement(r.Jn,{useOriginalSrcFills_DEPRECATED:!0,className:f._S,onClick:e.dismissModal,innerText:"close",svg:s?g.default:C.A}),c=o.createElement("div",null,e.ctaText&&e.onClickPrimaryCta&&o.createElement("div",{className:f.ZA},e.bottomLeftText&&o.createElement("b",null,e.bottomLeftText),o.createElement("div",{className:f.OQ},e.secondaryCtaText&&e.onClickSecondaryCta&&o.createElement(u.$z,{className:s?f.jS:f.dC,onClick:e.onClickSecondaryCta,"aria-hidden":!0},e.secondaryCtaText),e.ctaText&&e.onClickPrimaryCta&&o.createElement(_.vd,{className:s?f.TI:f.ZO,onClick:e.onClickPrimaryCta,trackingProperties:e.buttonContext?{buttonContext:e.buttonContext}:void 0},e.ctaText)))),E=function(e,t,a,o,n){let l=n??0;switch(o){case p.LN.BOTTOM_LEFT:return{top:e.bottom-(a+l),left:e.left+l};case p.LN.BOTTOM_RIGHT:return{top:e.bottom-(a+l),left:e.right-(t+l)};case p.LN.TOP_RIGHT:return{top:e.top+l,left:e.right-(t+l)};case p.LN.CENTER:return{top:e.top+(e.height-a)/2,left:e.left+(e.width-t)/2};default:return{top:e.top+l,left:e.left+l}}}(d.getBoundingClientRect(),a.width,a.height,e.modalLocation,e.positionOffset);return o.createElement("div",{className:s?f.IL:f.wV,ref:t,style:{backgroundColor:i,width:l,...E}},o.createElement("div",null,o.createElement("h1",null,e.title),e.children,m),c)}var b=a(151144),k=a(36172);let T="feed-post-detail-modal";function v(){let e=(0,i.e)({overlay:b.bIZ,priority:m.N.DEFAULT_MODAL}),t=(0,s.zl)(k.Q),a=o.useMemo(()=>(0,l.tx)("rcs.feed_onboarding.zoom_pan.title"),[]),r=!!(0,d.f)("has_seen_feed_post_details_zoom_pan_nudge");(0,o.useEffect)(()=>{!r&&t.completed&&e.show()},[e,r,t]);let _=(0,o.useMemo)(()=>o.createElement(n.S,{shortcut:"\u2318\xb1"}),[]),u=(0,o.useMemo)(()=>o.createElement(n.S,{shortcut:"Ctrl\xb1"}),[]);return o.createElement(c.h,{modalType:p.q3.SELF_CONTAINED,element:(0,o.useCallback)(e=>o.createElement(E,{targetKey:T,dismissModal:e.dismissModal,title:a,ctaText:(0,l.t)("rcs.got_it"),onClickPrimaryCta:e.onClickPrimaryCta,width:268,modalLocation:p.LN.BOTTOM_LEFT,positionOffset:16},o.createElement("p",null,(0,l.tx)("rcs.feed_onboarding.zoom_pan.content",{macKeyboardShortcut:_,windowsKeyboardShortcut:u}))),[a,_,u]),trackingContextName:"Feed Post Details View Zoom Pan Nudge",isShowing:e.isShowing,onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete,userFlagOnShow:"has_seen_feed_post_details_zoom_pan_nudge"})}},273321:(e,t,a)=>{a.d(t,{K:()=>E,R:()=>b});var o=a(848318),n=a(716544),l=a(397579),i=a(182059),s=a(442313),d=a(770686),m=a(196484),c=a(790355),r=a(449737),_=a(711203),u=a(170513),p=a(369600),h=a(661780),f=a(830789),g=a(728023),C=a(205397);let E=e=>`COMMENT_SIDEBAR_OVERFLOW_DROPDOWN-${e}`;function b(e){let{thread:t,targetRect:a,isUnread:E,copyLink:b,onDeleteThread:k}=e,{commentReceipts:T}=(0,u.I_)(),v=(0,_.fr)(),y=(0,n.wA)(),w=(0,p.tS)(),M=(0,h.TA)(),I=(0,l.ZC)(a),x=o.useCallback(()=>{y(c.oB())},[y]);o.useEffect(()=>{I&&(a.top!==I.top||a.left!==I.left)&&x()},[a,I,x]);let O=o.useCallback(()=>{T&&(E?y(m.AY({receiptsAPI:T,thread:t})):y(m.QY({receiptsAPI:T,comment:t.comments[0]})))},[T,y,E,t]),N=o.useCallback(()=>{v&&(E?y(d.k({receiptsAPI:v,thread:t})):y(d.J({receiptsAPI:v,comment:t.comments[0]})))},[v,y,E,t]),A=o.useCallback(()=>{b(t.comments[0])},[b,t]),S=o.useCallback(()=>{let e=k?()=>k(t):()=>y(m.Mv({comment:t.comments[0]}));y((0,r.to)({type:g.h,data:{onConfirm:e}}))},[y,k,t]),R=o.useMemo(()=>{if(M===t.comments[0].user_id&&!t.isCanvasMention&&(0,f.m)(t.sidebarItemType))return o.createElement(i.c$,{onClick:S},(0,s.tx)("comments.delete_thread"))},[t,M,S]),D=o.useMemo(()=>{let e=[];return v&&w&&t.isCanvasMention?e.push(o.createElement(i.c$,{onClick:N},E?(0,s.tx)("comments.mark_as_read"):(0,s.tx)("comments.mark_as_unread"))):T&&w&&!t.isCanvasMention&&(0,f.m)(t.sidebarItemType)&&e.push(o.createElement(i.c$,{onClick:O},E?(0,s.tx)("comments.mark_as_read"):(0,s.tx)("comments.mark_as_unread"))),e.push(o.createElement(i.c$,{onClick:A},(0,s.tx)("comments.copy_link"))),R&&e.push(R),e},[T,v,w,A,R,t.isCanvasMention,t.sidebarItemType,N,O,E]);return o.createElement(C.Jz,{showPoint:!0,targetRect:a,minWidth:160,options:D,hideDropdown:x,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!0,propagateCloseClick:!0})}},969048:(e,t,a)=>{a.d(t,{Pp:()=>s});var o=a(848318),n=a(17755),l=a(495052),i=a(863671);function s(e){return o.createElement(o.Fragment,null,e.calloutTargetKey&&o.createElement(i.x,{target:e.calloutTargetKey,isBrandColor:!0}),o.createElement(l.CR,{arrowPosition:e.arrowPosition,targetKey:e.pointerTargetKey,width:e.width-2*l.uv,shouldDismissWhenLostDOMTarget:!0,dismissModal:e.dismissModal,disableClickOutsideToHide:e.disableClickOutsideToHide,className:"instructional_walk_through_modal--modal--B0i2r pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",shouldCenterArrow:e.shouldCenterArrow},o.createElement("div",null,o.createElement("div",{className:n.s.flex.gap8.mb8.itemsCenter.flexWrap.$},o.createElement("h1",null,e.title),e.badge),e.subtitle&&(e.instructions?.length?o.createElement("h2",null,e.subtitle):o.createElement("p",null,e.subtitle)),e.instructions?.length&&o.createElement(d,{instructions:e.instructions}))))}function d(e){return 0===e.instructions.length?null:o.createElement("div",{className:"instructional_walk_through_modal--instructionBox--RCbF8","data-testid":"instructionalWalkThroughModalInstructionBox"},e.instructions.map((e,t)=>o.createElement(m,{instruction:e,instructionNumber:t+1,key:t})))}function m(e){return o.createElement("div",{className:"instructional_walk_through_modal--instruction--TghvO","data-testid":"instructionalWalkThroughModalInstruction"},o.createElement("div",{className:"instructional_walk_through_modal--instructionNumber--Qy7Hu"},e.instructionNumber),o.createElement("p",null,e.instruction))}},159019:(e,t,a)=>{a.d(t,{V:()=>c});var o=a(848318),n=a(442313),l=a(542052),i=a(950738),s=a(503024),d=a(205397),m=a(246633);function c(e){let t=(0,i.BK)(e.dropdownId),a=o.useRef(null),c=o.useRef(null);if(o.useEffect(()=>{t.showing&&c.current&&c.current.focus()},[t.showing]),e.hideTarget&&!t.showing)return null;let r=e.children;return r||(r=o.createElement(m.YW,{style:t.showing?{backgroundColor:"var(--color-bg-hover, var(--fallback-color-bg-hover))"}:void 0,selected:t.showing,"data-tooltip-type":s.Ib.TEXT,"data-tooltip":(0,n.t)("fig_feed.more_actions"),onClick:e=>{e.stopPropagation(),t.toggle()}},o.createElement(l.In,{icon:"dots-32"}))),o.createElement("div",null,o.createElement("div",{ref:a,onMouseDown:e=>e.stopPropagation()},r),a.current&&t.showing&&o.createElement(d.Jz,{closeDropdown:t.hide,displayAboveTarget:e.displayAboveTarget,displayOverTarget:e.displayOverTarget,hideDropdown:t.hide,lean:e.lean,maxHeight:e.maxHeight,maxWidth:e.maxWidth,minWidth:e.minWidth,options:e.options,propagateCloseClick:!0,showPoint:!1,targetRect:a.current.getBoundingClientRect(),textAlign:e.textAlign}))}},664324:(e,t,a)=>{a.d(t,{i:()=>k});var o=a(848318),n=a(716544),l=a(68134),i=a(41015),s=a(182059),d=a(442313),m=a(576220),c=a(196484),r=a(449737),_=a(793478),u=a(728023),p=a(483688),h=a(255603),f=a(273321),g=a(159019),C=a(853807),E=a(981412),b=a(625579);function k(e){let t=(0,n.wA)(),[a,s]=(0,l.M)(),[d,r]=o.useState([]);o.useEffect(()=>{r(e.messageMeta)},[e.messageMeta]);let[u,f]=o.useState(!1),g=(0,n.d4)(e=>e.comments.editingComment),k=o.useCallback(a=>{t(c.uy({id:e.commentId,key:e.commentUuid,attachmentId:a.id,attachment:a}))},[t,e.commentId,e.commentUuid]),v=o.useCallback(a=>(t(c.uy({id:e.commentId,key:e.commentUuid,attachmentId:a,attachment:null})),Promise.resolve()),[e.commentId,e.commentUuid,t]),y=o.useCallback(()=>{t(_.cx({commentId:e.commentId,uuid:e.commentUuid,messageMeta:d,attachmentUpdates:g?.attachmentUpdates})),t(c.cL()),f(!1)},[t,g,e.commentId,e.commentUuid,d]),w=o.useCallback(()=>{let a={};e.attachments?.forEach(e=>{a[e.id]=e}),t(c.Df({id:e.commentId,key:e.commentUuid,messageMeta:e.messageMeta,attachmentUpdates:{deleted:[],attachments:a}})),f(!0)},[t,e.commentId,e.commentUuid,e.messageMeta,e.attachments]),M=o.useCallback(()=>{r(e.messageMeta),t(c.pD()),f(!1)},[t,e.messageMeta]),I=e.commentUser.id===e.user.id,x=e.commentId.startsWith(_.v6),O=e.reactions.length>0;return o.createElement("div",{className:"feed_post_details_comments--comment--ScdJc",ref:a},o.createElement("div",{className:"feed_post_details_comments--avatarColumn--13o7f"},o.createElement(C.A,{user:e.commentUser,noHandle:!0,size:m.Pf.MEDIUM})),o.createElement("div",{className:"feed_post_details_comments--commentBody--tIA5q"},o.createElement("div",{className:"feed_post_details_comments--commentHeader--vzA-X"},o.createElement(C.B,{user:e.commentUser,date:e.createdAt,noAvatar:!0,shortDate:!0}),!u&&I&&o.createElement(T,{commentId:e.commentId,commentUuid:e.commentUuid,user:e.user,onEdit:w,hideTarget:!s})),u?o.createElement("div",{className:"feed_post_details_comments--editComposerContainer--ePn76"},o.createElement(b.o,{attachments:g?.attachmentUpdates?.attachments?Object.values(g?.attachmentUpdates?.attachments):[],autofocus:!0,composerContainerClass:"feed_post_details_comments--composer--5EDPO thread_comment_composer--inputSectionWrapper--Bxyab",currentOrgId:e.currentOrgId,deleteAttachment:v,editableTypeaheadClass:"feed_post_details_comments--editableTypeahead--kMhTQ thread_comment_composer--editableTypeahead--9R6Yd text--fontPos13--xW8hS text--_fontBase--QdLsd",editingExistingComment:!0,errorFallback:i.H4.NONE,fallback:i.H4.NONE,hideSubmitButton:!1,mentionables:e.mentionables,messageContent:d,onCancel:M,onSubmit:y,updateAttachment:k,updateMessage:r,user:e.user})):o.createElement(o.Fragment,null,o.createElement("div",{className:"feed_post_details_comments--commentRow--c2So7"},o.createElement(h.HH,{messageMeta:d,commentId:e.commentId,className:"feed_post_details_comments--commentMessage--lHCM2"}),!x&&!O&&o.createElement(E.nn,{type:E.Us.ADD_ONLY,source:E.zY.DETAIL_COMMENT_NO_REACTION,feedReactions:e.reactions,commentId:e.commentId,commentUuid:e.commentUuid,hideAddReactionButton:!s})),e.attachments&&o.createElement("div",{className:"feed_post_details_comments--attachmentsContainer--M-F-r"},o.createElement(p.a,{attachments:e.attachments,canEdit:I,fileKey:""})),O&&o.createElement(E.nn,{type:E.Us.FULL,source:E.zY.DETAIL_COMMENT_WITH_REACTION,feedReactions:e.reactions,commentId:e.commentId,commentUuid:e.commentUuid,hideAddReactionButton:!s}))))}function T(e){let t=(0,n.wA)(),a=o.useCallback(()=>{t((0,r.to)({type:u.h,data:{onConfirm:()=>{t(_.BC({commentId:e.commentId,uuid:e.commentUuid}))},popStack:!0},showModalsBeneath:!0}))},[t,e.commentId,e.commentUuid]),{onEdit:l}=e,i=o.useMemo(()=>[o.createElement(s.c$,{onClick:l,key:"edit"},(0,d.tx)("comments.edit")),o.createElement(s.c$,{onClick:a,key:"delete"},(0,d.tx)("comments.delete_comment"))],[a,l]);return e.commentId.startsWith(_.v6)?null:o.createElement(g.V,{hideTarget:e.hideTarget,dropdownId:(0,f.K)(e.commentId),options:i,lean:"left"})}},625579:(e,t,a)=>{a.d(t,{o:()=>o});let o=(0,a(41015).kf)("lazy_feed_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(6896),a.e(9727),a.e(7509),a.e(3663),a.e(441),a.e(7476),a.e(3427),a.e(7054),a.e(214),a.e(5974),a.e(8355),a.e(9567),a.e(6739),a.e(3455),a.e(6436),a.e(1092),a.e(8410)]).then(a.bind(a,801092))).FeedPostCommentComposer})})}}]);

//# debugId=8af5d796-e5a1-52b0-9b2e-ab0fc7ed9fec

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/810ff73c55ce8b448498b4aa602f2af42cb8a042/4892-583b2377487cf00f.min.js.map